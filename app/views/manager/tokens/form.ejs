<% layout('layouts/manager') -%>

<% include ../../includes/messages %>

<form method="post" action="/manager/tokens/save">
	<fieldset>
		<legend>
			Token
		</legend>

		<div class="form-group">
			<label>iss</label>
			<input type="text" class="form-control" name="iss" value="<%=token.iss || ''%>" placeholder="For which domain?" maxlength="254" autocomplete="off">
		</div>
										
		<div class="form-group">
			<label>Secret</label>
						
			<div class="input-group">					
				<input id="input-secret" type="text" class="form-control" name="secret" value="<%=token.secret|| ''%>" placeholder="Secret key." maxlength="254" autocomplete="off">
				
				 <div class="input-group-append">
    				<button class="btn btn-danger" type="button" onclick="document.getElementById('input-secret').value=generateRandomString()">Generate</button>
  				 </div>
  				 								 		
			</div>
		</div>
		
		<div class="form-row">    
			<div class="form-group col-12 col-md-2">
				<label>exp</label>
				<input type="number" min="60" step="60" class="form-control" name="exp" value="<%=token.exp || ''%>" placeholder="the number of seconds" maxlength="254" autocomplete="off">
			</div>
		</div>
											
		<div class="form-group form-check">
			<label class="form-check-label">
				<input type="checkbox" class="form-check-input" name="isActive" <%=token.isActive ? 'checked' : ''%> >
				is active</label>
		</div>			
	</fieldset>

	<input type="hidden" name="id" value="<%=token.id ? token.id : '' %>" />
	<input class="btn btn-success" type="submit" value="Save" >

</form>

<script>
document.querySelector(".link-tokens").classList.add("active");
</script>

